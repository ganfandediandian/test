<html>
    <head>
        <title>hello</title>
    </head>
    <body>
        <h1>用户登录与注册</h1>
        <div class="input-box">
            <input type="email" id="username" placeholder="请输入用户名" required>
            <label>用户名</label>
        </div>
        <div class="input-box">
            <input type="password" id="password" placeholder="请输入密码" required>
            <label>密码</label>
        </div>
        <p>没有账号？填写后自动注册。</p>
        <button onclick="handleLogin()">确认</button>

        <script>
            // 模拟一个数据库存储用户信息（键值对结构）
            const userDatabase = {
                "diandian": "666" // 示例用户
            };

            function handleLogin() {
                // 获取输入框内的用户名和密码
                const username = document.getElementById("username").value;
                const password = document.getElementById("password").value;

                // 验证输入是否合法
                if (!username || !password) {
                    alert("用户名和密码不能为空！");
                    return;
                }

                // 判断用户名是否存在
                if (userDatabase[username]) {
                    // 用户名存在，验证密码
                    if (userDatabase[username] === password) {
                        alert("登录成功！");
                        // 跳转到另一个页面
                        window.location.href = "success.html"; // 替换为目标页面的路径
                    } else {
                        alert("密码错误！");
                    }
                } else {
                    // 用户名不存在，自动注册
                    userDatabase[username] = password;
                    alert("注册成功！请使用新的用户名和密码登录。");
                    // 跳转到另一个页面
                    window.location.href = "success.html"; // 替换为目标页面的路径
                }

                // 输出当前的用户数据库（调试用）
                console.log("当前用户数据库：", userDatabase);
            }
        </script>
    </body>
</html>
